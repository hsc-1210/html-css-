<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="study.css">
    <style>
        .Works_title :last-child(p){
            background-color: white;
        }
    </style>
    <link rel="stylesheet" href="../00.头部/fontawesome-free-5.11.2-web/css/all.min.css">
</head>
<body onresize="box_position()">
<div class="first_mask">
    <div class="maskTop"></div>
    <div class="maskBottom"></div>
    <span class="maskLine"></span>
</div>
<div class="header">
    <div class="logoBox">
        <div class="logo">
            <a href="#"><img src="../00.头部/img/logo.png" alt="logo"></a>
        </div>
        <div class="music">
            <audio src="img/audio.mp3" loop class="Myaudio"></audio>
        </div>
    </div>
    <div class="nav">
        <div class="nav-box" >
            <div class="navContendTre"><a href="#"><i class="fas fa-home"></i></a></div>
            <div class="navContendTwo"><a href="#"><i class="fas fa-home"></i></a></div>
        </div>

        <div class="nav-box">
            <div class="navContend"><a href="#">Course</a></div>
           <div class="navContendTwo"><a href="#">Course</a></div>
        </div>

        <div class="nav-box">
            <div class="navContend"><a href="#">Works</a></div>
            <div class="navContendTwo"><a href="#">Works</a></div>
        </div>

        <div class="nav-box">
            <div class="navContend"><a href="#">About</a></div>
            <div class="navContendTwo"><a href="#">About</a></div>
        </div>
        <div class="nav-box">
            <div class="navContend"><a href="#">Team</a></div>
            <div class="navContendTwo"><a href="#">Team</a></div>
        </div>
<!--        <div class="nav-box">-->
<!--            <div class="navContend"><a href="#"></a></div>-->
<!--            <div class="navContendTwo"><a href="#"></a></div>-->
<!--        </div>-->
    </div>
    </div>
<div class="tbody">
    <div class="box"></div>
    <nav class="R-guide">
        <ul >
            <li class="active2"></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </nav>
    <div class="contend">
        <div class="home">
            <ul class="homeList">
                <li class="active">
                    <div class="commonTitle">One Days</div>
                </li>
                <li>
                    <div class="commonTitle">Two Days</div>
                </li>
                <li>
                    <div class="commonTitle">Three Days</div>
                </li>
                <li>
                    <div class="commonTitle">Four Days</div>
                </li>
<!--                <li>-->
<!--                    <div class="commonTitle">One Days</div>-->
<!--                </li>-->
            </ul>
            <ul class="iconList ">
                <li class="active2"></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <div class="Course">
            <div class="course_box">
                <div class="course1">
                    <div class="Works_title">
                        <p class="commonTitle">EINBLICK</p>
                        <p class="commonTitle">ERKENNTNIS</p>
                        <p class="commonTitle">ERGEBNIS</p>
                    </div>
                </div>
                <div class="course2">
                    <p >DasKundenvertrauen in unsere Kompetenz ist die notwendige Basis einer erfolgreichen Zusammenarbeit, gleichzeitig aber auch das größte Lob, das man uns entgegenbringen kann.
                        Diese und viele weitere große und kleine Kunden vertrauen uns seit Jahren, was uns stolz macht, und dafür sagen wir an dieser Stelle einfach mal.</p>
                </div>
                <div class="course3">
                    <div class="course3-box">
                        <div class="line"></div>
                        <div class="line"></div>
                        <div class="line"></div>
                        <div class="line"></div>
                        <div class="line"></div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                        <div class="items">
                            <div class="pcwelt"></div>
                            <div class="back">今天天气真不错</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="Works clearfix contendText">
            <div class="Works_title">
                <p class="commonTitle">EINBLICK</p>
                <p class="commonTitle">ERKENNTNIS</p>
                <p class="commonTitle">ERGEBNIS</p> 
            </div>
            <div class="Works_rob"><img src="../03.第三屏/img/robot.png" alt=""></div>
            <div class="Works_pic">
                <div>
                    <img class="img" src="../03.第三屏/img/worksimg1.jpg" alt="">
                    <div class="mask">
                        <span>Honeyfly</span>
                        <div class="plus">
                            <div class="plus_move">
                                <i class="fa fa-search-plus"></i>
                                <i class="fa fa-search-plus"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <img class="img" src="../03.第三屏/img/worksimg2.jpg" alt="">
                    <div class="mask">
                        <span>Honeyfly</span>
                        <div class="plus">
                            <div class="plus_move">
                                <i class="fa fa-search-plus"></i>
                                <i class="fa fa-search-plus"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <img class="img" src="../03.第三屏/img/worksimg3.jpg" alt="">
                    <div class="mask">
                        <span>Honeyfly</span>
                        <div class="plus">
                            <div class="plus_move">
                                <i class="fa fa-search-plus"></i>
                                <i class="fa fa-search-plus"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <img class="img" src="../03.第三屏/img/worksimg4.jpg" alt="">
                    <div class="mask">
                        <span>Honeyfly</span>
                        <div class="plus last_plus">
                            <div class="plus_move">
                                <i class="fa fa-search-plus"></i>
                                <i class="fa fa-search-plus"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="About contendText clearfix">
            <div class="Works_title">
                <p class="commonTitle">DIE</p>
                <p class="commonTitle">SPEZIELLE</p>
                <p class="commonTitle">VIELFALT</p>
                <div class="commonText">
                    <p >Der bunte Medienmix ist die Faszination die uns antreibt und das, was man an uns schätzt. Von A bis Z und von vorne bis hinten nehmen wir Ihr Projekt unter unsere Fittiche und lassen es zu etwas Großartigem heranwachsen.</p>
                </div>
            </div>
            <div class="img_box">
                <div class="img-1">
                    <div class="bg-img"><img src="img/about4.jpg" alt=""></div>
                    <ul class="img-11" data-src="img/about1.jpg"></ul>
                </div>
                <div class="img-2">
                    <div class="bg-img">
                        <img src="img/about2.jpg" alt="">
                    </div>
                    <ul class="img-11" data-src="img/about3.jpg"></ul>
                </div>
            </div>
        </div>
        <div  class="Team">
            <div class="Team-box">
                <div class="team1">
                        <p class="commonTitle">WIR SIND</p>
                        <p class="commonTitle">VOXELAIR</p>
                </div>
                <div class="team2">
                    <p class="commonText">Wir sind seit 2002 eine Full-Service-Werbeagentur mit Stammsitz in Heimsheim, zwischen Stuttgart und Karlsruhe.
                        Über 60 Jahre Erfahrung vereinen das gesamte VoxelAir-Team. Dabei hat jedes Voxel neben professionellem Allroundwissen auch sein ganz spezielles Gebiet, um selbst die individuellsten Kundenwünsche schnell und kompetent umzusetzen
                     </p>
                </div>
            <div class="team3">
            <ul >
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            </ul>
            </div>
             </div>
        </div>
    </div>
</div>
<script>
    let navBox = document.querySelectorAll(".nav-box")
    let box = document.querySelector(".tbody>.box")
    let contend_box = document.querySelector(".tbody>.contend")
    let R_guide=document.querySelectorAll('.R-guide>ul>li')
    let now = 0;
    let timer = null
    let maskTop=document.querySelector('.maskTop')
    let maskBottom=document.querySelector('.maskBottom')
    let maskLine=document.querySelector('.maskLine')
    let music=document.querySelector('.music')
    let Myaudio=music.querySelector('audio')
    let first_mask=document.querySelector('.first_mask')
    music.onclick=function (){
        if (Myaudio.paused){
            Myaudio.play()
            music.style.backgroundImage = 'url("img/musicon.gif")'
        }else {
            Myaudio.pause()
            music.style.backgroundImage='url("img/musicoff.gif")'
        }
    }
    mask()
    function mask(){
        var imgFlag=0
        var arr = ['bg1.jpg','bg2.jpg','bg3.jpg','bg4.jpg','bg5.jpg','about1.jpg','about2.jpg','about3.jpg','about4.jpg','worksimg1.jpg','worksimg2.jpg','worksimg3.jpg','worksimg4.jpg','team.png','greenLine.png'];
        for (var i=0;i<arr.length;i++){
            var imgNode=new Image()
            imgNode.src='img/'+arr[i]
            imgNode.onload=function (){
                imgFlag++;
                maskLine.style.width=imgFlag/arr.length*100+'%'
            }
            maskLine.addEventListener('transitionend',function (){
                maskTop.style.height='0'
                maskBottom.style.height='0'
                maskLine.style.display='none'
            })
            maskTop.addEventListener('transitionend',function (){
                animationArr();
                Myaudio.onloadedmetadata=function (){
                    music.onclick()
                    first_mask.remove()
                }
            })
        }
    }
    var animationArr = function () {//元素本身状态一致
                var homeList = document.querySelector('.homeList')
                var homeIcon = document.querySelector('.iconList')

                homeList.style.transform = 'translateY(0px)';
                homeIcon.style.transform = 'translateY(0px)';

                homeList.style.opacity = '1';
                homeIcon.style.opacity = '1';
    }
    function box_position(){
        box.style.left =(navBox[now].getBoundingClientRect().left+(navBox[now].offsetWidth-box.offsetWidth)/2)+"px"
    }
        function run (event){
            for (let i=0;i<navBox.length;i++){
                navBox[i].querySelector("div").className='navContend'
                // console.log(R_guide[i])
            }
            for (var i=0;i<R_guide.length;i++){
                R_guide[i].className=''
            }
            R_guide[now].className='active2'
            event.querySelector('div').className='navContendTre'
            R_guide[now].className='active2'
            box.style.left =(event.getBoundingClientRect().left+(event.offsetWidth-box.offsetWidth)/2)+"px"
            contend_box.style.top =-100*now+"%"

        }
    run (navBox[0])
        for (let i =0;i<navBox.length;i++) {
            navBox[i].addEventListener('mouseenter',function (){
                let navContendTwo = this.querySelector(".navContendTwo")
                navContendTwo.style.width="100%"
            })
            navBox[i].addEventListener('mouseleave',function (){
                let navContendTwo = this.querySelector(".navContendTwo")
                navContendTwo.style.width="0"

            })
        }
        for (let i =0;i<navBox.length;i++) {
            navBox[i].index = i
            R_guide[i].index = i
            navBox[i].onclick =function (){
                now = this.index
                run (navBox[now])
            }
            R_guide[i].onclick =function (){
                        now = this.index
                        run (navBox[now])
                    }
        }
     window.onmousewheel = function (event){
            clearTimeout(timer)
           timer=setTimeout(()=>{move(event)},200)
     }
        if (document.addEventListener){
            document.addEventListener('DOMMouseScroll',(event)=>{
                clearTimeout(timer)
                timer=setTimeout(()=>{move(event)},200)
            })

        }
         function move(event) {
         event = event || window.event
         let flag = "";
         if (event.wheelDelta) {
             Math.round(event.wheelDelta / 120) > 0 ? flag = "up" : flag = "down"
         }
         if (event.detail) {
             Math.round(event.detail / 3) < 0 ? flag = "up" : flag = "down"
         }
         switch (flag) {
             case "up":
                 now>0?now--:now
                 run (navBox[now])
                 break;
             case "down":
                 now<navBox.length-1?now++:now
                 run (navBox[now])
                 break;
         }
         event.preventDefault && event.preventDefault()
             return false
     }
</script>
<script>
    let img_11=document.querySelectorAll(".img-11")
    function appendImage(a){
        let src=a.dataset.src;
        let h=a.offsetHeight/2
        let w=a.offsetWidth/2
        for (let i=0;i<4;i++){
            let li=document.createElement("li")
            li.style.height=h+"px"
            li.style.width=w+"px"
            let img=new Image()
            img.src=src
            img.style.top=-Math.floor(i/2)*h+"px"
            img.style.left=-Math.floor(i%2)*w+"px"
            li.appendChild(img)
            a.appendChild(li)
        }
        let imgNodes = a.querySelectorAll('img')
        a.onmouseenter=function (){
            imgNodes[0].style.top = h + 'px';
            imgNodes[1].style.left = -2*w + 'px';
            imgNodes[2].style.left = w + 'px';
            imgNodes[3].style.top = -2*h + 'px';
        }
        a.onmouseleave = function () {
            imgNodes[0].style.top = 0 + 'px';
            imgNodes[1].style.left = -w + 'px';
            imgNodes[2].style.left = 0 + 'px';
            imgNodes[3].style.top = -h + 'px';
        }
    }
    appendImage(img_11[0])
    appendImage(img_11[1])

</script>
<script>
    window.onload=function (){
        var homeList = document.querySelector(".homeList")
        var liNode = homeList.querySelectorAll("li")
        var iconList = document.querySelector(".iconList")
        var liIcon = iconList.querySelectorAll("li")
        let start = 0
        let index = 0
        var timer =null
        for (var i=0;i<liIcon.length;i++){
            liIcon[i].index = i
            liIcon[i].onclick = function (){
                    clearInterval(timer)
                liIcon[start].className=''
                for (var j=0;j<liNode.length;j++){
                    liNode[j].className=''
                }
                if (this.index>start){
                    liNode[start].className="LeftH"
                    liNode[this.index].className="RightS"
                }else if(this.index<start){
                    liNode[start].className="RightH"
                    liNode[this.index].className="LeftS"
                }
                start = this.index
                index = this.index
                this.className='active2'
                liNodeRun()
            }
        }
        var liNodeRun =function (){
        timer = setInterval(function (){
              index++
              if (index === liNode.length){
                  index = 0
              }
                liNode[start].className="LeftH"
                liNode[index].className="RightS"
                liIcon[start].className=""
                liIcon[index].className="active2"
            start = index
            },5000)
        }

        liNodeRun()
    }

</script>
<script>
    // var aboutUl=document.querySelector('.team3>ul')
    // var team3Li=aboutUl.querySelectorAll('li')
    // canvasAin();
    // function canvasAin() {
    //     var myCanvas = null;
    //     for (var i = 0; i < team3Li.length; i++) {
    //         team3Li[i].onmouseenter = function () {
    //             for (var j = 0; j < team3Li.length; j++) {
    //                 team3Li[j].style.opacity = "0.5"
    //             }
    //             this.style.opacity = "1"
    //             addCanvas();
    //             myCanvas.style.left = this.offsetLeft + 'px'
    //             bubble();
    //         }
    //     }
    //     aboutUl.onmouseleave = function () {
    //         for (var j = 0; j < team3Li.length; j++) {
    //             team3Li[j].style.opacity = "1"
    //         }
    //         removeCanvas()
    //     }
    //
    //     function addCanvas() {
    //         if (!myCanvas) {
    //             console.log(111)
    //             myCanvas = document.createElement('canvas')
    //             myCanvas.width = 236;
    //             myCanvas.height = 270;
    //             myCanvas.style.background='green'
    //             aboutUl.appendChild(myCanvas);
    //         }
    //     }
    //
    //     function removeCanvas() {
    //         myCanvas.remove()
    //         myCanvas = null
    //         clearInterval(timer1,timer2)
    //     }
    //
    //     function bubble() {
    //         var painting = myCanvas.getContext('2d')
    //         var arr = []
    //         var timer1=setInterval(function () {
    //             painting.clearRect(0, 0, myCanvas.width, myCanvas.height)
    //             for (var j = 0; j < arr.length; j++) {
    //                 arr[j].deg += 3
    //                 arr[j].x = arr[j].x+ Math.sin(arr[j].deg * Math.PI / 180) * arr[j].scale * 2;
    //                 arr[j].y = arr[j].y - (arr[j].deg * Math.PI / 180) * arr[j].scale * 0.75;
    //                 if (arr[j].y < 20) {
    //                     arr.splice(j, 1)
    //                 }
    //             }
    //                 for (var i = 0; i < arr.length; i++) {
    //                     painting.fillStyle = 'rgba(' + arr[i].red + ',' + arr[i].green + ',' + arr[i].blue + ',' + arr[i].a + ')'
    //                     painting.beginPath()
    //                     painting.arc(arr[i].x, arr[i].y, arr[i].r, 0, 2 * Math.PI);
    //                     painting.fill();
    //                 }
    //         }, 20)
    //         var timer2=setInterval(function () {
    //             var x = Math.floor(Math.random() * myCanvas.width)
    //             var y = myCanvas.height;
    //             var r = Math.floor(Math.random() * 8) + 2;
    //             var red = Math.floor(Math.random() * 255);
    //             var green = Math.floor(Math.random() * 255);
    //             var blue = Math.floor(Math.random() * 255);
    //             var a = 1;
    //             var deg = 0;
    //             var scale = Math.floor(Math.random() * 30) + 30;
    //             arr.push({
    //                 x: x,
    //                 y: y,
    //                 r: r,
    //                 red: red,
    //                 green: green,
    //                 blue: blue,
    //                 a: a,
    //                 deg: deg,
    //                 scale: scale,
    //             })
    //         }, 100)
    //     }
    // }

    var team3Li = document.querySelectorAll('.team3>ul>li');
    var team3 = document.querySelector('.team3');
    var canvas=false
    var timer1=null
    var timer2=null
    //        第五屏逻辑
   for (var i=0;i<team3Li.length;i++){
       team3Li[i].onmouseenter=function (){
           for (var j=0;j<team3Li.length;j++){
               team3Li[j].style.opacity='0.5'
           }
           this.style.opacity='1'
           if (!canvas){
             addCanvas()
               bubble()
           }
           canvas.style.left=this.offsetLeft+'px'

       }
       team3.onmouseleave=function (){
           for (var j=0;j<team3Li.length;j++){
               team3Li[j].style.opacity='1'
           }
           if (canvas){
               canvas.remove(0)
               canvas=false
               clearInterval(timer1)
               clearInterval(timer2)
           }
       }
   }
   function addCanvas(){
       canvas=document.createElement('canvas')
       canvas.width=236
       canvas.height=260
       team3.appendChild(canvas)
       canvas.style.position='absolute'
       canvas.style.top=0+'px'
       canvas.style.left=0+'px'
   }

   function bubble(){
       var painting = canvas.getContext('2d');
//        保存圆的数据信息   x y r
       var arr = [];
//        绘制圆形
      timer1=setInterval(function () {
           painting.clearRect(0,0,canvas.width,canvas.height);
//            处理数据
           for (var j = 0; j < arr.length; j++) {
               arr[j].deg+=3;
               arr[j].x = arr[j].startX + Math.sin(arr[j].deg*Math.PI/180)*arr[j].scale*2;
               arr[j].y = arr[j].startY - (arr[j].deg*Math.PI/180)*arr[j].scale*0.75;
               if (arr[j].y < 20){
                   arr.splice(j,1);
               }
           }
           for (var i = 0; i < arr.length; i++) {
               painting.fillStyle = 'rgba('+arr[i].red+','+arr[i].green+','+arr[i].blue+','+arr[i].a+')'
               painting.beginPath();
               painting.arc(arr[i].x,arr[i].y,arr[i].r,0,2*Math.PI);
               painting.fill();

           }
       },20)


//      输出圆的信息
      timer2=setInterval(function () {
           var x=Math.floor(Math.random()*canvas.width);
           var y=canvas.height;
           var r=Math.floor(Math.random()*8)+3;
           var red=Math.floor(Math.random()*255);
           var green=Math.floor(Math.random()*255);
           var blue=Math.floor(Math.random()*255);
           var a = 1;
           var deg = 0;
           var scale = Math.floor(Math.random()*30)+30;
           var startX = x;
           var startY = y;
           arr.push({
               x:x,
               y:y,
               r:r,
               red:red,
               green:green,
               blue:blue,
               a:a,
               deg:deg,
               scale:scale,
               startX:startX,
               startY:startY
           })
       },100)
   }



</script>
</body>
</html>